<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CP Toolbox UI</title>
  <!-- This file is intended to be hosted on GitHub (raw) and referenced by the userscript.
       The userscript will inject the HTML into the page DOM (you can fetch this file and
       take the inner content, or host only the CSS and let the script create DOM). -->
  <link rel="stylesheet" href="cp_toolbox.css">
</head>
<body>
  <!-- Panel root -->
  <div id="cp-toolbox-panel" role="dialog" aria-hidden="true">
    <div class="header">
      <div class="logo" id="cp-logo" aria-hidden="true">
        <!-- Logo SVG will be injected by the userscript (remote civicplus.svg) -->
        <span style="font-size:12px;color:var(--cp-muted)">Loading logoâ€¦</span>
      </div>

      <!-- Buttons replaced by a dropdown using details/summary.
           Menu items reuse same classes and IDs so existing JS keeps working. -->
      <div class="btns">
        <details class="cp-dropdown" aria-haspopup="true">
          <summary class="cp-dropdown-toggle" role="button" aria-label="Actions">
            <!-- Font Awesome SVG (user-provided) -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" aria-hidden="true" focusable="false">
              <!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
              <path d="M384 432c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0zm64-16c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9S110.5 192 120 192l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"/>
            </svg>
          </summary>

          <div class="cp-dropdown-menu" role="menu" aria-label="Toolbox actions">
            <!-- Keep same class names and IDs so script bindings continue to work -->
            <button class="add-snippet-btn" id="cp-add-btn" type="button">+ Add Snippet</button>
            <button class="refresh-remote-btn" id="cp-refresh-btn" type="button">Server Snippets</button>
          </div>
        </details>
      </div>
    </div>

    <div class="search-row">
      <input id="cp-search-input" type="search" placeholder="Search title or code..." />
      <button class="clear-btn" id="cp-clear-search">Clear</button>
    </div>

    <div id="cp-list"></div>

    <div class="footer" style="padding:8px 4px; border-top:1px solid #f1f5f9; display:flex; gap:8px; align-items:center;">
      <div>Width:</div>
      <input id="cp-width-input" type="number" value="420" min="220" max="900" style="width:80px; padding:6px; border-radius:6px; border:1px solid #e6eef9;" />
    </div>
  </div>
</body>
</html>

